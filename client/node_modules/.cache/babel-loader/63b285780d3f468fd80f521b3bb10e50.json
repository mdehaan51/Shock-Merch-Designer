{"ast":null,"code":"var _jsxFileName = \"/home/mdehaan51/highrev-projects/merch-designer/client/src/components/admin/AdminDashboard.js\";\nimport React, { Component } from \"react\";\nimport Moment from \"react-moment\";\nimport * as moment from \"moment\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\nimport { connect } from \"react-redux\";\nimport { getAllUsers } from \"../../actions/adminActions\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport { AuthTopBar, UserTable } from \"../constants.js\";\nimport { CSVLink, CSVDownload } from \"react-csv\";\n\nclass AdminDashboard extends Component {\n  constructor() {\n    super();\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.history.push(\"/\");\n      this.props.logoutUser(this.props.history);\n    };\n\n    this.state = {\n      users: []\n    };\n  }\n\n  componentWillMount() {\n    this.props.getAllUsers();\n    this.setState({\n      users: this.props.admin.users\n    });\n  }\n\n  componentDidMount() {\n    console.log(this.props.admin.users);\n    this.setState({\n      users: this.props.admin.users\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.admin !== this.props.admin) {\n      this.setState({\n        users: this.props.admin.users\n      });\n    }\n  }\n\n  render() {\n    const columns = [{\n      Header: \"Name\",\n      accessor: \"name\"\n    }, {\n      Header: \"Email\",\n      accessor: \"email\"\n    }, {\n      Header: \"Phone\",\n      accessor: \"phone\"\n    }, {\n      Header: \"Location\",\n      accessor: \"location\"\n    }, {\n      Header: \"Business\",\n      accessor: \"business\"\n    }, {\n      Header: \"Date\",\n      accessor: \"date\",\n      Cell: props => React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, moment(props.value).format(\"YYYY/MM/DD\"))\n    }];\n    const csvHeaders = [{\n      label: \"Name\",\n      key: \"name\"\n    }, {\n      label: \"Email\",\n      key: \"email\"\n    }, {\n      label: \"Phone\",\n      key: \"phone\"\n    }, {\n      label: \"Location\",\n      key: \"location\"\n    }, {\n      label: \"Business\",\n      key: \"business\"\n    }, {\n      label: \"Date\",\n      key: \"date\"\n    }];\n    return React.createElement(\"div\", {\n      className: \"valign-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(AuthTopBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      onClick: this.onLogoutClick,\n      className: \"admin-logout-button \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"div\", {\n      className: \"table-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.users.length > 0 ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(CSVLink, {\n      className: \"export-button\",\n      data: this.state.users,\n      headers: csvHeaders,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Export\"), React.createElement(ReactTable, {\n      data: this.state.users,\n      columns: columns,\n      defaultPageSize: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })) : null));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  admin: state.admin,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  getAllUsers,\n  logoutUser\n})(AdminDashboard);","map":{"version":3,"sources":["/home/mdehaan51/highrev-projects/merch-designer/client/src/components/admin/AdminDashboard.js"],"names":["React","Component","Moment","moment","ReactTable","connect","getAllUsers","logoutUser","AuthTopBar","UserTable","CSVLink","CSVDownload","AdminDashboard","constructor","onLogoutClick","e","preventDefault","props","history","push","state","users","componentWillMount","setState","admin","componentDidMount","console","log","componentDidUpdate","prevProps","render","columns","Header","accessor","Cell","value","format","csvHeaders","label","key","length","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Moment from \"react-moment\";\nimport * as moment from \"moment\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\n\nimport { connect } from \"react-redux\";\nimport { getAllUsers } from \"../../actions/adminActions\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport { AuthTopBar, UserTable } from \"../constants.js\";\nimport { CSVLink, CSVDownload } from \"react-csv\";\n\nclass AdminDashboard extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tusers: []\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.props.getAllUsers();\n\t\tthis.setState({\n\t\t\tusers: this.props.admin.users\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log(this.props.admin.users);\n\t\tthis.setState({\n\t\t\tusers: this.props.admin.users\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.admin !== this.props.admin) {\n\t\t\tthis.setState({\n\t\t\t\tusers: this.props.admin.users\n\t\t\t});\n\t\t}\n\t}\n\n\tonLogoutClick = e => {\n\t\te.preventDefault();\n\t\tthis.props.history.push(\"/\");\n\t\tthis.props.logoutUser(this.props.history);\n\t};\n\n\trender() {\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\tHeader: \"Name\",\n\t\t\t\taccessor: \"name\"\n\t\t\t},\n\t\t\t{ Header: \"Email\", accessor: \"email\" },\n\t\t\t{ Header: \"Phone\", accessor: \"phone\" },\n\t\t\t{ Header: \"Location\", accessor: \"location\" },\n\t\t\t{ Header: \"Business\", accessor: \"business\" },\n\t\t\t{\n\t\t\t\tHeader: \"Date\",\n\t\t\t\taccessor: \"date\",\n\t\t\t\tCell: props => (\n\t\t\t\t\t<span>{moment(props.value).format(\"YYYY/MM/DD\")}</span>\n\t\t\t\t)\n\t\t\t}\n\t\t];\n\t\tconst csvHeaders = [\n\t\t\t{ label: \"Name\", key: \"name\" },\n\t\t\t{ label: \"Email\", key: \"email\" },\n\t\t\t{ label: \"Phone\", key: \"phone\" },\n\t\t\t{ label: \"Location\", key: \"location\" },\n\t\t\t{ label: \"Business\", key: \"business\" },\n\t\t\t{ label: \"Date\", key: \"date\" }\n\t\t];\n\t\treturn (\n\t\t\t<div className=\"valign-wrapper\">\n\t\t\t\t<AuthTopBar />\n\t\t\t\t<a\n\t\t\t\t\tonClick={this.onLogoutClick}\n\t\t\t\t\tclassName=\"admin-logout-button \"\n\t\t\t\t>\n\t\t\t\t\tLogout\n\t\t\t\t</a>\n\t\t\t\t<div className=\"table-container\">\n\t\t\t\t\t{this.state.users.length > 0 ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<CSVLink\n\t\t\t\t\t\t\t\tclassName=\"export-button\"\n\t\t\t\t\t\t\t\tdata={this.state.users}\n\t\t\t\t\t\t\t\theaders={csvHeaders}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t\t<ReactTable\n\t\t\t\t\t\t\t\tdata={this.state.users}\n\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tadmin: state.admin,\n\tauth: state.auth\n});\n\nexport default connect(\n\tmapStateToProps,\n\t{ getAllUsers, logoutUser }\n)(AdminDashboard);\n"]},"metadata":{},"sourceType":"module"}