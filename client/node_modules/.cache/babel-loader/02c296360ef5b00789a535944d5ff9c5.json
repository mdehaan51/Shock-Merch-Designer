{"ast":null,"code":"var _jsxFileName = \"/home/mdehaan51/highrev-projects/merch-designer/client/src/components/DrawingComponents/RequestQuoteForm.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { imgSrcToDataURL } from \"blob-util\"; //import \"../styles/App.css\";\n\nclass RequestForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var bottom = this.props.drawing.bottomData;\n\n      if (this.props.drawing.preview) {\n        const preview = async () => {\n          console.log(\"this is a preview\");\n          const data = imgSrcToDataURL(this.props.drawing.preview).then(data => {\n            return data;\n          });\n          console.log(data);\n          let result = await data;\n          console.log(result);\n          return result;\n        };\n\n        console.log(preview);\n        preview();\n        Promise.all(preview).then(result => {\n          this.changeImage(bottom);\n        });\n      } else {\n        this.changeImage(bottom);\n      }\n    };\n\n    this.changeImage = bottomData => {\n      const name = document.getElementById(\"name\").value;\n      const business = document.getElementById(\"business-name\").value;\n      const email = document.getElementById(\"email\").value;\n      const phone = document.getElementById(\"phone\").value;\n      const city = document.getElementById(\"city\").value;\n      const country = document.getElementById(\"country\").value;\n      const message = document.getElementById(\"message\").value;\n      const number = document.getElementById(\"number\").value;\n      const time = document.getElementById(\"time\").value;\n      const side = this.props.drawing.sideData;\n      var bottom = bottomData;\n      const top = this.props.drawing.topData;\n      var imageStrings = [];\n      var images = this.props.side.images.concat(this.props.bottom.images, this.props.top.images);\n\n      if (images.length > 0) {\n        let promiseArr = images.map(async items => {\n          var content = imgSrcToDataURL(items.src).then(dataURL => {\n            return dataURL;\n          });\n          let result = await content;\n          imageStrings.push(result);\n        });\n        console.log(promiseArr);\n        Promise.all(promiseArr).then(result => {\n          let messageData = {\n            name: name,\n            business: business,\n            email: email,\n            phone: phone,\n            location: city + \" \" + country,\n            number: number,\n            time: time,\n            message: message,\n            side: side,\n            bottom: bottom,\n            top: top,\n            images: imageStrings\n          };\n          this.sendMessage(messageData);\n        }).catch(err => {});\n        /*this.props.side.images.forEach(async function(items) {\n        \tconsole.log(items);\n        \tvar content = await imgSrcToDataURL(items.src)\n        \t\t.then(dataURL => {\n        \t\t\tconsole.log(dataURL);\n        \t\t\t\treturn dataURL;\n        \t\t\tconsole.log(sideImages);\n        \t\t})\n        \t\t.catch(err => {\n        \t\t\tconsole.log(err);\n        \t\t});\n        \tsideImages.push(content);\n        });*/\n      } else {\n        let messageData = {\n          name: name,\n          business: business,\n          email: email,\n          phone: phone,\n          location: city + \" \" + country,\n          number: number,\n          time: time,\n          message: message,\n          side: side,\n          bottom: bottom,\n          top: top,\n          sideImages: [],\n          bottomImages: [],\n          topImages: []\n        };\n        this.sendMessage(messageData);\n      }\n    };\n\n    this.sendMessage = messageData => {\n      console.log(\"sending\");\n      axios({\n        method: \"POST\",\n        url: \"/api/users/save_user\",\n        data: messageData\n      });\n      axios({\n        method: \"POST\",\n        url: \"/api/mailer/send\",\n        data: messageData\n      }).then(response => {\n        if (response.data.msg === \"success\") {\n          alert(\"Message Sent.\");\n        } else if (response.data.msg === \"fail\") {\n          alert(\"Message failed to send. Please try again later.\");\n        }\n      });\n    };\n\n    this.state = {\n      sideImage: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"request-form\",\n      id: \"contact-form\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-row input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Full Name\",\n      id: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Business Name\",\n      id: \"business-name\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-row input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email Address\",\n      id: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"tel\",\n      placeholder: \"Phone Number\",\n      id: \"phone\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-row input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"City, State\",\n      id: \"city\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Country\",\n      id: \"country\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-row input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"How Many Pairs Do You Need?\"), React.createElement(\"select\", {\n      className: \"browser-default\",\n      id: \"number\" //defaultValue=\"\"\n      ,\n      name: \"size\" //onChange={onChange}\n      //value={size}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"How Many Pairs Do You Need?\"), React.createElement(\"option\", {\n      value: \"500-100 Pairs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"500-1000\"), React.createElement(\"option\", {\n      value: \"1000-5000 Pairs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"1000-5000\"), React.createElement(\"option\", {\n      value: \"5000+ Pairs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"5000+\"))), React.createElement(\"div\", {\n      className: \"form-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"When Do You Need Them>\"), React.createElement(\"select\", {\n      className: \"browser-default\",\n      name: \"date\" //onChange={onChange}\n      ,\n      id: \"time\" //defaultValue=\"\"\n      //value={date}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"When Do You Need Them?\"), React.createElement(\"option\", {\n      value: \"ASAP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"As Soon As Possible\"), React.createElement(\"option\", {\n      value: \"2-6 Months\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"2-6 Months\"), React.createElement(\"option\", {\n      value: \"More than 6 Months\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"More than 6 Months\")))), React.createElement(\"div\", {\n      className: \"form-row input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"materialize-textarea\",\n      type: \"text\",\n      placeholder: \"Give us some details about what you need!\",\n      id: \"message\",\n      style: {\n        height: \"100px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"button hoverable\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Submit\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  design: state.design,\n  drawing: state.drawing,\n  side: state.side,\n  bottom: state.bottom,\n  top: state.top\n});\n\nexport default connect(mapStateToProps)(RequestForm);","map":{"version":3,"sources":["/home/mdehaan51/highrev-projects/merch-designer/client/src/components/DrawingComponents/RequestQuoteForm.js"],"names":["React","Component","axios","connect","imgSrcToDataURL","RequestForm","constructor","props","onSubmit","e","preventDefault","bottom","drawing","bottomData","preview","console","log","data","then","result","Promise","all","changeImage","name","document","getElementById","value","business","email","phone","city","country","message","number","time","side","sideData","top","topData","imageStrings","images","concat","length","promiseArr","map","items","content","src","dataURL","push","messageData","location","sendMessage","catch","err","sideImages","bottomImages","topImages","method","url","response","msg","alert","state","sideImage","render","height","mapStateToProps","auth","design"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { imgSrcToDataURL } from \"blob-util\";\n//import \"../styles/App.css\";\n\nclass RequestForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsideImage: []\n\t\t};\n\t}\n\n\tonSubmit = e => {\n\t\te.preventDefault();\n\n\t\tvar bottom = this.props.drawing.bottomData;\n\n\t\tif (this.props.drawing.preview) {\n\t\t\tconst preview = async () => {\n\t\t\t\tconsole.log(\"this is a preview\");\n\t\t\t\tconst data = imgSrcToDataURL(this.props.drawing.preview).then(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconsole.log(data);\n\t\t\t\tlet result = await data;\n\t\t\t\tconsole.log(result);\n\t\t\t\treturn result;\n\t\t\t};\n\t\t\tconsole.log(preview);\n\t\t\tpreview();\n\n\t\t\tPromise.all(preview).then(result => {\n\t\t\t\tthis.changeImage(bottom);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.changeImage(bottom);\n\t\t}\n\t};\n\n\tchangeImage = bottomData => {\n\t\tconst name = document.getElementById(\"name\").value;\n\t\tconst business = document.getElementById(\"business-name\").value;\n\t\tconst email = document.getElementById(\"email\").value;\n\t\tconst phone = document.getElementById(\"phone\").value;\n\t\tconst city = document.getElementById(\"city\").value;\n\t\tconst country = document.getElementById(\"country\").value;\n\t\tconst message = document.getElementById(\"message\").value;\n\t\tconst number = document.getElementById(\"number\").value;\n\t\tconst time = document.getElementById(\"time\").value;\n\t\tconst side = this.props.drawing.sideData;\n\t\tvar bottom = bottomData;\n\t\tconst top = this.props.drawing.topData;\n\t\tvar imageStrings = [];\n\t\tvar images = this.props.side.images.concat(\n\t\t\tthis.props.bottom.images,\n\t\t\tthis.props.top.images\n\t\t);\n\t\tif (images.length > 0) {\n\t\t\tlet promiseArr = images.map(async items => {\n\t\t\t\tvar content = imgSrcToDataURL(items.src).then(dataURL => {\n\t\t\t\t\treturn dataURL;\n\t\t\t\t});\n\t\t\t\tlet result = await content;\n\t\t\t\timageStrings.push(result);\n\t\t\t});\n\t\t\tconsole.log(promiseArr);\n\n\t\t\tPromise.all(promiseArr)\n\t\t\t\t.then(result => {\n\t\t\t\t\tlet messageData = {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbusiness: business,\n\t\t\t\t\t\temail: email,\n\t\t\t\t\t\tphone: phone,\n\t\t\t\t\t\tlocation: city + \" \" + country,\n\t\t\t\t\t\tnumber: number,\n\t\t\t\t\t\ttime: time,\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tside: side,\n\t\t\t\t\t\tbottom: bottom,\n\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\timages: imageStrings\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.sendMessage(messageData);\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\n\t\t\t/*this.props.side.images.forEach(async function(items) {\n\t\t\t\tconsole.log(items);\n\t\t\t\tvar content = await imgSrcToDataURL(items.src)\n\t\t\t\t\t.then(dataURL => {\n\t\t\t\t\t\tconsole.log(dataURL);\n\n\t\t\t\t\t\treturn dataURL;\n\t\t\t\t\t\tconsole.log(sideImages);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t\tsideImages.push(content);\n\t\t\t});*/\n\t\t} else {\n\t\t\tlet messageData = {\n\t\t\t\tname: name,\n\t\t\t\tbusiness: business,\n\t\t\t\temail: email,\n\t\t\t\tphone: phone,\n\t\t\t\tlocation: city + \" \" + country,\n\t\t\t\tnumber: number,\n\t\t\t\ttime: time,\n\t\t\t\tmessage: message,\n\t\t\t\tside: side,\n\t\t\t\tbottom: bottom,\n\t\t\t\ttop: top,\n\t\t\t\tsideImages: [],\n\t\t\t\tbottomImages: [],\n\t\t\t\ttopImages: []\n\t\t\t};\n\t\t\tthis.sendMessage(messageData);\n\t\t}\n\t};\n\n\tsendMessage = messageData => {\n\t\tconsole.log(\"sending\");\n\t\taxios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/api/users/save_user\",\n\t\t\tdata: messageData\n\t\t});\n\n\t\taxios({\n\t\t\tmethod: \"POST\",\n\t\t\turl: \"/api/mailer/send\",\n\t\t\tdata: messageData\n\t\t}).then(response => {\n\t\t\tif (response.data.msg === \"success\") {\n\t\t\t\talert(\"Message Sent.\");\n\t\t\t} else if (response.data.msg === \"fail\") {\n\t\t\t\talert(\"Message failed to send. Please try again later.\");\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<form\n\t\t\t\tclassName=\"request-form\"\n\t\t\t\tid=\"contact-form\"\n\t\t\t\tonSubmit={this.onSubmit}\n\t\t\t>\n\t\t\t\t<div className=\"form-row input-field\">\n\t\t\t\t\t<input type=\"text\" placeholder=\"Full Name\" id=\"name\" />\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Business Name\"\n\t\t\t\t\t\tid=\"business-name\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-row input-field\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"Email Address\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\tplaceholder=\"Phone Number\"\n\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-row input-field\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"City, State\"\n\t\t\t\t\t\tid=\"city\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Country\"\n\t\t\t\t\t\tid=\"country\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-row input-field\">\n\t\t\t\t\t<div className=\"form-select\">\n\t\t\t\t\t\t<label>How Many Pairs Do You Need?</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName=\"browser-default\"\n\t\t\t\t\t\t\tid=\"number\"\n\t\t\t\t\t\t\t//defaultValue=\"\"\n\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t//onChange={onChange}\n\t\t\t\t\t\t\t//value={size}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" disabled>\n\t\t\t\t\t\t\t\tHow Many Pairs Do You Need?\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"500-100 Pairs\">500-1000</option>\n\t\t\t\t\t\t\t<option value=\"1000-5000 Pairs\">1000-5000</option>\n\t\t\t\t\t\t\t<option value=\"5000+ Pairs\">5000+</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-select\">\n\t\t\t\t\t\t<label>When Do You Need Them></label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName=\"browser-default\"\n\t\t\t\t\t\t\tname=\"date\"\n\t\t\t\t\t\t\t//onChange={onChange}\n\t\t\t\t\t\t\tid=\"time\"\n\t\t\t\t\t\t\t//defaultValue=\"\"\n\t\t\t\t\t\t\t//value={date}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\" disabled>\n\t\t\t\t\t\t\t\tWhen Do You Need Them?\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"ASAP\">As Soon As Possible</option>\n\t\t\t\t\t\t\t<option value=\"2-6 Months\">2-6 Months</option>\n\t\t\t\t\t\t\t<option value=\"More than 6 Months\">\n\t\t\t\t\t\t\t\tMore than 6 Months\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-row input-field\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName=\"materialize-textarea\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Give us some details about what you need!\"\n\t\t\t\t\t\tid=\"message\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: \"100px\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"button hoverable\" type=\"submit\">\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tauth: state.auth,\n\tdesign: state.design,\n\tdrawing: state.drawing,\n\tside: state.side,\n\tbottom: state.bottom,\n\ttop: state.top\n});\n\nexport default connect(mapStateToProps)(RequestForm);\n"]},"metadata":{},"sourceType":"module"}