{"ast":null,"code":"import _slicedToArray from \"/home/mdehaan/dev/sock-design/Shock-Merch-Designer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mdehaan/dev/sock-design/Shock-Merch-Designer/client/src/components/DrawingComponents/constants.js\";\nimport React, { Component } from \"react\";\nimport Konva from \"konva\";\nimport { render } from \"react-dom\";\nimport { Stage, Layer, Rect, Image } from \"react-konva\";\nimport useImage from \"use-image\";\nconst URL = \"images/WhiteSocks.png\"; // example of functional component\n\nexport const Socks = (blue, red, green) => {\n  const _useImage = useImage(URL, \"Anonimus\"),\n        _useImage2 = _slicedToArray(_useImage, 1),\n        image = _useImage2[0];\n\n  const imageRef = React.useRef(); // when image is loaded we need to cache the shape\n\n  React.useEffect(() => {\n    if (image) {\n      // you many need to reapply cache on some props changes like shadow, stroke, etc.\n      imageRef.current.cache(); // since this update is not handled by \"react-konva\" and we are using Konva methods directly\n      // we have to redraw layer manually\n\n      imageRef.current.getLayer().batchDraw();\n      console.log(imageRef.current);\n    }\n  }, [image]);\n  return React.createElement(Image, {\n    ref: imageRef,\n    height: 800,\n    width: 800,\n    image: image,\n    filters: [Konva.Filters.RGB],\n    blue: blue,\n    red: red,\n    green: green,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  });\n};","map":{"version":3,"sources":["/home/mdehaan/dev/sock-design/Shock-Merch-Designer/client/src/components/DrawingComponents/constants.js"],"names":["React","Component","Konva","render","Stage","Layer","Rect","Image","useImage","URL","Socks","blue","red","green","image","imageRef","useRef","useEffect","current","cache","getLayer","batchDraw","console","log","Filters","RGB"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,IAAvB,EAA6BC,KAA7B,QAA0C,aAA1C;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,MAAMC,GAAG,GAAG,uBAAZ,C,CAEA;;AACA,OAAO,MAAMC,KAAK,GAAG,CAACC,IAAD,EAAOC,GAAP,EAAYC,KAAZ,KAAsB;AAAA,oBAC1BL,QAAQ,CAACC,GAAD,EAAM,UAAN,CADkB;AAAA;AAAA,QACnCK,KADmC;;AAE1C,QAAMC,QAAQ,GAAGf,KAAK,CAACgB,MAAN,EAAjB,CAF0C,CAI1C;;AACAhB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACrB,QAAIH,KAAJ,EAAW;AACV;AACAC,MAAAA,QAAQ,CAACG,OAAT,CAAiBC,KAAjB,GAFU,CAGV;AACA;;AACAJ,MAAAA,QAAQ,CAACG,OAAT,CAAiBE,QAAjB,GAA4BC,SAA5B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACG,OAArB;AACA;AACD,GATD,EASG,CAACJ,KAAD,CATH;AAWA,SACC,oBAAC,KAAD;AACC,IAAA,GAAG,EAAEC,QADN;AAEC,IAAA,MAAM,EAAE,GAFT;AAGC,IAAA,KAAK,EAAE,GAHR;AAIC,IAAA,KAAK,EAAED,KAJR;AAKC,IAAA,OAAO,EAAE,CAACZ,KAAK,CAACsB,OAAN,CAAcC,GAAf,CALV;AAMC,IAAA,IAAI,EAAEd,IANP;AAOC,IAAA,GAAG,EAAEC,GAPN;AAQC,IAAA,KAAK,EAAEC,KARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD;AAYA,CA5BM","sourcesContent":["import React, { Component } from \"react\";\nimport Konva from \"konva\";\nimport { render } from \"react-dom\";\nimport { Stage, Layer, Rect, Image } from \"react-konva\";\nimport useImage from \"use-image\";\n\nconst URL = \"images/WhiteSocks.png\";\n\n// example of functional component\nexport const Socks = (blue, red, green) => {\n\tconst [image] = useImage(URL, \"Anonimus\");\n\tconst imageRef = React.useRef();\n\n\t// when image is loaded we need to cache the shape\n\tReact.useEffect(() => {\n\t\tif (image) {\n\t\t\t// you many need to reapply cache on some props changes like shadow, stroke, etc.\n\t\t\timageRef.current.cache();\n\t\t\t// since this update is not handled by \"react-konva\" and we are using Konva methods directly\n\t\t\t// we have to redraw layer manually\n\t\t\timageRef.current.getLayer().batchDraw();\n\t\t\tconsole.log(imageRef.current);\n\t\t}\n\t}, [image]);\n\n\treturn (\n\t\t<Image\n\t\t\tref={imageRef}\n\t\t\theight={800}\n\t\t\twidth={800}\n\t\t\timage={image}\n\t\t\tfilters={[Konva.Filters.RGB]}\n\t\t\tblue={blue}\n\t\t\tred={red}\n\t\t\tgreen={green}\n\t\t/>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}