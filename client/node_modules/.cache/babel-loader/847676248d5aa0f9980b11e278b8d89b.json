{"ast":null,"code":"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nexport default class Portal extends React.Component {\n  componentDidMount() {\n    this.renderPortal();\n  }\n\n  componentDidUpdate(props) {\n    this.renderPortal();\n  }\n\n  componentWillUnmount() {\n    ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n\n    if (this.defaultNode) {\n      document.body.removeChild(this.defaultNode);\n    }\n\n    this.defaultNode = null;\n  }\n\n  renderPortal(props) {\n    if (!this.props.node && !this.defaultNode) {\n      this.defaultNode = document.createElement(\"div\");\n      document.body.appendChild(this.defaultNode);\n    }\n\n    let children = this.props.children; // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n\n    if (typeof children.type === \"function\") {\n      children = React.cloneElement(children);\n    }\n\n    ReactDOM.render(children, this.props.node || this.defaultNode);\n  }\n\n  render() {\n    return null;\n  }\n\n}","map":{"version":3,"sources":["/home/mdehaan51/highrev-projects/merch-designer/client/src/components/DrawingComponents/Portal.js"],"names":["React","ReactDOM","Portal","Component","componentDidMount","renderPortal","componentDidUpdate","props","componentWillUnmount","unmountComponentAtNode","defaultNode","node","document","body","removeChild","createElement","appendChild","children","type","cloneElement","render"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,eAAe,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAqC;AACnDC,EAAAA,iBAAiB,GAAG;AACnB,SAAKC,YAAL;AACA;;AAEDC,EAAAA,kBAAkB,CAACC,KAAD,EAAQ;AACzB,SAAKF,YAAL;AACA;;AAEDG,EAAAA,oBAAoB,GAAG;AACtBP,IAAAA,QAAQ,CAACQ,sBAAT,CAAgC,KAAKC,WAAL,IAAoB,KAAKH,KAAL,CAAWI,IAA/D;;AACA,QAAI,KAAKD,WAAT,EAAsB;AACrBE,MAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0B,KAAKJ,WAA/B;AACA;;AACD,SAAKA,WAAL,GAAmB,IAAnB;AACA;;AAEDL,EAAAA,YAAY,CAACE,KAAD,EAAQ;AACnB,QAAI,CAAC,KAAKA,KAAL,CAAWI,IAAZ,IAAoB,CAAC,KAAKD,WAA9B,EAA2C;AAC1C,WAAKA,WAAL,GAAmBE,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAnB;AACAH,MAAAA,QAAQ,CAACC,IAAT,CAAcG,WAAd,CAA0B,KAAKN,WAA/B;AACA;;AAED,QAAIO,QAAQ,GAAG,KAAKV,KAAL,CAAWU,QAA1B,CANmB,CAOnB;;AACA,QAAI,OAAOA,QAAQ,CAACC,IAAhB,KAAyB,UAA7B,EAAyC;AACxCD,MAAAA,QAAQ,GAAGjB,KAAK,CAACmB,YAAN,CAAmBF,QAAnB,CAAX;AACA;;AAEDhB,IAAAA,QAAQ,CAACmB,MAAT,CAAgBH,QAAhB,EAA0B,KAAKV,KAAL,CAAWI,IAAX,IAAmB,KAAKD,WAAlD;AACA;;AAEDU,EAAAA,MAAM,GAAG;AACR,WAAO,IAAP;AACA;;AAlCkD","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nexport default class Portal extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.renderPortal();\n\t}\n\n\tcomponentDidUpdate(props) {\n\t\tthis.renderPortal();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n\t\tif (this.defaultNode) {\n\t\t\tdocument.body.removeChild(this.defaultNode);\n\t\t}\n\t\tthis.defaultNode = null;\n\t}\n\n\trenderPortal(props) {\n\t\tif (!this.props.node && !this.defaultNode) {\n\t\t\tthis.defaultNode = document.createElement(\"div\");\n\t\t\tdocument.body.appendChild(this.defaultNode);\n\t\t}\n\n\t\tlet children = this.props.children;\n\t\t// https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n\t\tif (typeof children.type === \"function\") {\n\t\t\tchildren = React.cloneElement(children);\n\t\t}\n\n\t\tReactDOM.render(children, this.props.node || this.defaultNode);\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}